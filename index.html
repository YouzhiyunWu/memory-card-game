<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>校徽翻牌游戏</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 初始菜单界面 -->
    <div class="menu-container" id="menu-container">
        <div class="menu-content">
            <h1>校徽翻牌游戏</h1>
            <div class="menu-buttons">
                <button id="start-btn" class="menu-btn">开始游戏</button>
                <button id="rules-btn" class="menu-btn">规则</button>
                <button id="settings-btn" class="menu-btn">设置</button>
                <button id="exit-btn" class="menu-btn">退出游戏</button>
            </div>
        </div>
    </div>

    <!-- 设置界面 -->
    <div class="settings-container" id="settings-container">
        <div class="settings-content">
            <h2>设置</h2>
            <div class="setting-item">
                <label for="volume-slider">音效音量：</label>
                <input type="range" id="volume-slider" min="0" max="100" value="50">
                <span id="volume-value">50%</span>
            </div>
            <div class="setting-item">
                <label>背景颜色：</label>
                <div class="color-options">
                    <button id="bg-white" class="color-btn active" data-color="white">白色</button>
                    <button id="bg-black" class="color-btn" data-color="black">黑色</button>
                </div>
            </div>
            <div class="setting-item">
                <label>游戏难度：</label>
                <div class="difficulty-options">
                    <button id="diff-easy" class="difficulty-btn active" data-size="8">简单 (8×8)</button>
                    <button id="diff-medium" class="difficulty-btn" data-size="10">中等 (10×10)</button>
                    <button id="diff-hard" class="difficulty-btn" data-size="12">困难 (12×12)</button>
                </div>
            </div>
            <div class="settings-buttons">
                <button id="back-btn" class="menu-btn">返回</button>
            </div>
        </div>
    </div>

    <!-- 规则界面 -->
    <div class="rules-container" id="rules-container">
        <div class="rules-content">
            <h2>游戏规则</h2>
            <div class="rules-text">
                <p><strong>1. 基本玩法：</strong></p>
                <p>点击卡片进行翻转，每次可以翻转两张卡片。如果两张卡片的校徽相同，则匹配成功，卡片保持翻转状态；如果不同，则卡片会自动翻回。</p>
                
                <p><strong>2. 分数规则：</strong></p>
                <p>- 初始分数：100分</p>
                <p>- 每操作一步（翻转两张卡片）扣1分</p>
                <p>- 连续匹配成功会获得额外加分</p>
                <p>- 特殊配对失败会额外扣2分</p>
                
                <p><strong>3. 特殊机制：</strong></p>
                <p>- 电子科技大学：首次匹配成功后，后续10步得分翻倍</p>
                <p>- 四川大学：首次匹配成功后，分数*1.5（向上取整）</p>
                <p>- 特殊交互：</p>
                <ul>
                    <li>如果四川大学已匹配成功，之后匹配电子科技大学会使分数减半</li>
                    <li>如果电子科技大学已匹配成功，之后每次匹配四川大学都会使分数减半，无论是否处于得分翻倍效果内</li>
                    <li>如果匹配四川大学时处于电子科技大学的得分翻倍效果内，会结束该得分翻倍效果</li>
                </ul>
                <p>- 以下配对失败会额外扣2分：</p>
                <ul>
                    <li>电子科技大学与川大</li>
                    <li>清华与北大</li>
                    <li>华南理工和中山大学</li>
                    <li>上交和复旦</li>
                    <li>武大和华中科技大学</li>
                    <li>南开大学和天津大学</li>
                    <li>上交和西交</li>
                </ul>
                
                <p><strong>4. 胜利条件：</strong></p>
                <p>成功匹配所有卡片对，游戏获胜。</p>
                
                <p><strong>5. 失败条件：</strong></p>
                <p>分数降为0分，游戏失败。</p>
            </div>
            <div class="rules-buttons">
                <button id="rules-back-btn" class="menu-btn">返回</button>
            </div>
        </div>
    </div>

    <!-- 游戏界面 -->
    <div class="game-container" id="game-container">
        <h1>校徽翻牌游戏</h1>
        <div class="game-info">
            <div class="steps">步数：<span id="step-counter">0</span></div>
            <div class="time">时间：<span id="seconds">00:00</span></div>
            <button id="restart-btn">重新开始</button>
        </div>
        <div class="game-board" id="game-board">
            <!-- 卡片将通过JavaScript动态生成 -->
        </div>
        <div class="win-message" id="win-message">
            <h2>恭喜你赢了！</h2>
            <p>总共用了 <span id="final-steps">0</span> 步</p>
            <p>用时：<span id="time-taken">00:00</span></p>
            <p>最终分数：<span id="final-score">0</span></p>
            <button id="play-again-btn">再玩一次</button>
        </div>
        <div class="lose-message" id="lose-message">
            <h2>很遗憾，你输了！</h2>
            <p>总共用了 <span id="final-steps-lose">0</span> 步</p>
            <p>用时：<span id="time-taken-lose">00:00</span></p>
            <p>最终分数：<span id="final-score-lose">0</span></p>
            <button id="play-again-btn-lose">再玩一次</button>
        </div>
    </div>

    <!-- 音频元素将通过JavaScript动态创建 -->

    <script src="script.js"></script>
</body>
</html>